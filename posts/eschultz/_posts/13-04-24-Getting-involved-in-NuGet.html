---
title: "Getting involved in NuGet"
alias: /Blogs/EntryId/93/Getting-involved-in-NuGet
---
<p>Being part of a community is one of the most rewarding parts of open source development. Fortunately, as part of my job, I'm able to spend some of my working time contributing to our open source projects and becoming a member of their communities. As the <a href="http://blog.nuget.org/20130425/nuget-2.5-released.html">NuGet 2.5 was just released</a>, I'd like to share my experience contributing to this release. </p> <p>For those who aren't familiar, <a href="http://nuget.org/">NuGet</a>, an Outercurve Foundation project, is a tool for library management for Visual Studio projects. In its first few years, a significant ecosystem has grown up around it. On February 23, the NuGet Gallery, filled with over 12,000 community built packages, crossed the <a href="https://twitter.com/nuget/status/306858138403999744">50 million package download</a> threshold (today it's over 65 million packages downloaded). Companies such as <a href="http://www.myget.org/">MyGet</a> sell services to developers for hosting a private NuGet feed, while <a href="http://www.symbolsource.org/">SymbolSource</a> from <a href="http://www.caliper.pl/en">Caliper</a> is a free repository for hosting debugging symbols for NuGet packages. Perhaps the most exciting development is that NuGet is included with a default installation of Visual Studio 2012 (including Express editions). Up until this release, NuGet supported only .NET, or "managed," libraries. If you're writing in C#, F# or VB.net, NuGet packages would work great for you. But what if you were writing in C or C++and want to use a non-.NET, or "native," library like <a href="http://zlib.net/">zlib</a> or the <a href="http://casablanca.codeplex.com/">C++ REST SDK</a>? This is where I came in. </p> <p>Improving the experience of using open source libraries on Windows has been personal interest of mine for years. Prior to joining Outercurve Foundation, I was a committer with another one of Outercurve's projects, <a href="http://coapp.org">CoApp</a>, which is creating an open source package management system for Windows. I had worked with C and C++ libraries and found them to be almost uniformly difficult to work with on Windows. This is why I got involved in CoApp in the first place; in particular I wanted to make using open source libraries easier on Windows. </p> <p>In November, <a href="https://twitter.com/fearthecowboy">Garrett Serack</a> from CoApp contacted me about a new feature he had discussed with the core NuGet team and the Visual Studio team, namely native packages for NuGet. The end goal was to make using native libraries in Visual C++ projects as easy as using managed libraries in .NET projects. This was an idea that had been brought up in the NuGet community before but a solution was never fully implemented. One reason was that the focus of the community was very much on adding all the features users wanted just for .NET packages. Unless someone was willing to work through the issues involved, native packages wouldn't be available on NuGet anytime soon. Since I had open work time in December, I decided to jump in. </p> <p>Fortunately, Garrett and the NuGet and Visual Studio teams had a design I could work off of. Before getting into the details of the design I think there's an important piece of advice for new open source developers: don't assume that you're starting from scratch when you consider adding a feature to an open source project. I've often found that open source projects have created designs for features that haven't been implemented due to time constraints. In some cases these designs are complete, which they were in this case, and in other cases they're less fleshed out. Ideally these designs would be publicly documented but in some cases they aren't. Ask a more experienced project member if a design already exists. Often you'll find a great feature blueprint to work off of. </p> <p>In this case I had a pretty strong blueprint. I would modify NuGet to support native packages using the <a href="http://msdn.microsoft.com/en-us/library/hh768146.aspx">Extension SDK</a> model. For many reasons, this seemed to make sense. Extension Software Developer Kits (SDK's) were used by Microsoft to package SDKs for software. There's user interface in Visual Studio for adding and removing references to Extension SDKs to a project. The consensus was that this was a good path to take. </p> <p>There were two main challenges to implementing this blueprint. The first challenge was understanding the Extension SDK model. The documentation for the model was extremely helpful but it didn't tell me everything I needed to know about Extension SDKs. If I was going to make NuGet packages using the Extension SDK model work as well as standard Extension SDKs work in Visual Studio, I needed to better understand the interaction between Visual Studio and the Extension SDK model. After a great deal of trial and error, I had a good sense of the interaction between Visual Studio and the Extension SDK model. </p> <p>My second challenge was getting an understanding of the NuGet codebase. With a project the size of NuGet, getting into the code base is not a trivial endeavor. Fortunately a member of the core NuGet team, <a href="https://twitter.com/dotnetjunky">Luan Nguyen</a>, walked me through what parts of the code I'd need to work with. Without such a patient teacher, this project would have been monumentally difficult. </p> <p>Over the next few weeks, I coded, hacked, pushed and prodded the code into a solution for managing native NuGet packages using the Extension SDK model. I ended up with a <a href="https://nuget.codeplex.com/SourceControl/network/forks/wwahammy/NuGetWithNative">prototype</a> that fulfilled many of the original goals but I was left with a clear conclusion: this isn't the right solution. Extension SDKs and NuGet packages both worked well in their respective domains but they didn't work well together. I came to the conclusions for the following reason: </p> <ul> <li>NuGet Packages and Extensions SDKs each required very specific folder structures which weren't compatible. </li> <li>Extension SDKs were really designed to be installed in a single place on disk, not at the project level like NuGet packages. </li> <li>The Extension SDK user interfaces and APIs in Visual Studio only worked on the latest version of Visual Studio. Supporting Extension SDKs in systems other than Visual Studio 2012 would require rewriting much of this code. </li> <li>Extension SDKs assumed that a package would be dependent on a particular version of a Microsoft product SDK. For example, an Extension SDK might be dependent on the Windows 8 SDK. This was problematic because many libraries would actually work on all versions of Windows. Zlib has no dependencies on any particular Windows version but the Extension SDK model requires the packager to pick a version. </li> </ul> <p>In the end, I had to recommend that the Extension SDK model shouldn't be used for creating native NuGet packages. At this point, I should note that I approached this project as a community member. I have no authority as Developer Advocate over the direction of Outercurve projects, nor would I want any. After explaining why I thought NuGet should move in a different direction, NuGet, Visual Studio and CoApp all agreed completely. Since I finished my prototype, the CoApp and NuGet teams have worked together to create support in NuGet for native packages in a way that fits NuGet best and Powershell Cmdlets for creating those packages. </p> <p>My experience is a perfect example of how community-based open source projects should work. A community member tackled an outstanding feature request for an open source project. Members of the core project team were willing to share their knowledge and provide advice to support the volunteer. The core project team was willing to change direction when an average community member explained a problem. And two separate open source projects with similar goals worked together to come up with a better solution than they might have on their own. These are communities of people, all with diverse experiences and requirements, coming together and moving towards a common goal. </p> <h1>Next steps </h1> <p><strong>Want to use native packages?</strong> <a href="http://visualstudiogallery.msdn.microsoft.com/27077b70-9dad-4c64-adcf-c7cf6bc9970c">Install the latest version of NuGet</a> </p> <p><strong>Want to create native packages?</strong> <a href="http://coapp.org/tutorials/building-a-package.html">Get the CoApp tools and learn how</a> </p> <p>Contribute code, documentation and time to <a href="http://nuget.codeplex.com/">NuGet</a> and <a href="http://coapp.org/index.html">CoApp</a> </p> <p><a href="http://www.regonline.com/builder/site/Default.aspx?EventID=1224520">Learn more about the cooperation and friendly competition between the NuGet and CoApp teams at the OuterConf 2013 on May 8-9 in Bellevue, WA</a></p>
